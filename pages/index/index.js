Page({
  data: {
    indexType: {'food0': 'ÂÜú‰ΩúÁâ©', 'food1': 'ÂÜú‰ΩúÁâ©', 'food2': 'ÂÜú‰ΩúÁâ©', 'food3': 'ÂÜú‰ΩúÁâ©', 'food4': 'ÂÜú‰ΩúÁâ©', 'food5': 'ÂÜú‰ΩúÁâ©', 'food6': 'ÂÜú‰ΩúÁâ©', 'food7': 'ÂÜú‰ΩúÁâ©', 'food8': 'ÂÜú‰ΩúÁâ©', 'food9': 'ËÇâÁ±ª', 'food10': 'ËÇâÁ±ª', 'food11': 'ËÇâÁ±ª', 'food12': 'ËÇâÁ±ª', 'food13': 'Âà∂Á≥ñ', 'food14': 'Âà∂Á≥ñ', 'food15': 'Âà∂Á≥ñ', 'food16': 'È•ºÂùä', 'food17': 'È•ºÂùä', 'food18': 'È•ºÂùä', 'food19': 'È•ºÂùä', 'food20': 'È•ºÂùä', 'food21': 'Áü≥Á£®', 'food22': 'Áü≥Á£®', 'food23': 'Áü≥Á£®', 'food24': 'Ë±ÜÂùä', 'food25': 'Ë±ÜÂùä', 'food26': 'Ë±ÜÂùä', 'food27': 'Ë±ÜËÖêÂä†Â∑•', 'food28': 'Ë±ÜËÖêÂä†Â∑•', 'food29': 'Ë±ÜËÖêÂä†Â∑•', 'food30': 'Ë±ÜËÖêÂä†Â∑•', 'food31': 'Ë±ÜËÖêÂä†Â∑•', 'food32': 'Ë±ÜËÖêÂä†Â∑•', 'food33': 'Áé©ÂÖ∑', 'food34': 'Áé©ÂÖ∑', 'food35': 'Áé©ÂÖ∑', 'food36': 'Áé©ÂÖ∑', 'food37': 'Êú®Â∑•', 'food38': 'Êú®Â∑•', 'food39': 'Êú®Â∑•', 'food40': 'Á≥ïÂùä', 'food41': 'Á≥ïÂùä', 'food42': 'Á≥ïÂùä', 'food43': 'Á≥ïÂùä', 'food44': 'ÁºñÁªá', 'food45': 'ÁºñÁªá', 'food46': 'ÁºñÁªá', 'food47': 'ÁºñÁªá', 'food48': 'ËÖåÂà∂', 'food49': 'ËÖåÂà∂', 'food50': 'ËÖåÂà∂', 'food51': 'ËÖåÂà∂', 'food52': 'ËÖåÂà∂', 'food53': 'Èô∂Áì∑', 'food54': 'Èô∂Áì∑', 'food55': 'Èô∂Áì∑', 'food56': 'ÊñáÂÖ∑', 'food57': 'ÊñáÂÖ∑', 'food58': 'ÊñáÂÖ∑', 'food59': 'ÊôæÂ†Ç', 'food60': 'ÊôæÂ†Ç', 'food61': 'ÊôæÂ†Ç', 'food62': 'Áª£Âùä', 'food63': 'Áª£Âùä', 'food64': 'Áª£Âùä', 'food65': 'ÂúüÊñô', 'food66': 'ÂúüÊñô', 'food67': 'ÂúüÊñô', 'food68': 'Á∫∫Áªá', 'food69': 'Á∫∫Áªá', 'food70': 'Á∫∫Áªá', 'food71': 'ÂºÄÈáá', 'food72': 'ÂºÄÈáá', 'food73': 'ÂºÄÈáá', 'food74': 'ÂºÄÈáá', 'food75': 'ËèúË∞±', 'food76': 'ËèúË∞±', 'food77': 'ËèúË∞±', 'food78': 'ËèúË∞±', 'food79': 'ËèúË∞±', 'food80': 'ËèúË∞±', 'food81': 'ËèúË∞±', 'food82': 'ËèúË∞±', 'food83': 'ËèúË∞±', 'food84': 'ËèúË∞±', 'food85': 'ËèúË∞±', 'food86': 'ËèúË∞±', 'food87': 'ËèúË∞±', 'food88': 'ËèúË∞±', 'food89': 'ËèúË∞±', 'food90': 'ËèúË∞±', 'food91': 'ËèúË∞±', 'food92': 'ËèúË∞±', 'food93': 'ËèúË∞±', 'food94': 'ËèúË∞±', 'food95': 'ËèúË∞±', 'food96': 'ËèúË∞±', 'food97': 'ËèúË∞±', 'food98': 'ËèúË∞±', 'food99': 'ËèúË∞±', 'food100': 'ËèúË∞±', 'food101': 'ËèúË∞±', 'food102': 'ËèúË∞±', 'food103': 'ËèúË∞±', 'food104': 'ËèúË∞±', 'food105': 'ËèúË∞±', 'food106': 'ËèúË∞±', 'food107': 'ËèúË∞±', 'food108': 'ËèúË∞±', 'food109': 'ËèúË∞±', 'food110': 'ËèúË∞±', 'food111': 'ËèúË∞±', 'food112': 'Áª£Âùä'},
    searchInput: '',
    selectedFoodType: '',
    foodTypes: ['ÂÜú‰ΩúÁâ©', 'ËÇâÁ±ª', 'Âà∂Á≥ñ', 'È•ºÂùä', 'Áü≥Á£®', 'Ë±ÜÂùä', 'Ë±ÜËÖêÂä†Â∑•', 'Áé©ÂÖ∑', 'Êú®Â∑•', 'Á≥ïÂùä', 'ÁºñÁªá', 'ËÖåÂà∂', 'Èô∂Áì∑', 'ÊñáÂÖ∑', 'ÊôæÂ†Ç', 'Áª£Âùä', 'ÂúüÊñô', 'Á∫∫Áªá', 'ÂºÄÈáá', 'ËèúË∞±'],
  
    allFoods: [{
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "Â∞èÈ∫¶",
      "price": 1,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%B0%8F%E9%BA%A6.png",
      "quantity": 0,
      "index": "food0"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "Â§ßË±Ü",
      "price": 2,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%A4%A7%E8%B1%86.png",
      "quantity": 0,
      "index": "food1"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "ÁîòËîó",
      "price": 3,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%94%98%E8%94%97.png",
      "quantity": 0,
      "index": "food2"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "Ê∞¥Á®ª",
      "price": 4,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E6%B0%B4%E7%A8%BB.png",
      "quantity": 0,
      "index": "food3"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "ÁôΩËèú",
      "price": 5,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%99%BD%E8%8F%9C.jpeg",
      "quantity": 0,
      "index": "food4"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "Ëæ£Ê§í",
      "price": 6,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%BE%A3%E6%A4%92.png",
      "quantity": 0,
      "index": "food5"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "ÂúüË±Ü",
      "price": 7,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%9C%9F%E8%B1%86.png",
      "quantity": 0,
      "index": "food6"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "ËãéÈ∫ª",
      "price": 9,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%8B%8E%E9%BA%BB.png",
      "quantity": 0,
      "index": "food7"
    },
    {
      "type": "ÂÜú‰ΩúÁâ©",
      "name": "ÂçóÁìú",
      "price": 9,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E5%8D%97%E7%93%9C.JPG",
      "quantity": 0,
      "index": "food8"
    },
    {
      "type": "ËÇâÁ±ª",
      "name": "Áå™ËÇâ",
      "price": 15,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%8C%AA%E8%82%89.png",
      "quantity": 0,
      "index": "food9"
    },
    {
      "type": "ËÇâÁ±ª",
      "name": "È∏°Ëõã",
      "price": 2,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B8%A1%E8%9B%8B.png",
      "quantity": 0,
      "index": "food10"
    },
    {
      "type": "ËÇâÁ±ª",
      "name": "È∏≠ËÇâ",
      "price": 15,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B8%AD%E8%82%89.png",
      "quantity": 0,
      "index": "food11"
    },
    {
      "type": "ËÇâÁ±ª",
      "name": "È∏°ËÇâ",
      "price": 15,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B8%A1%E8%82%89.png",
      "quantity": 0,
      "index": "food12"
    },
    {
      "type": "Âà∂Á≥ñ",
      "name": "Á≥ñ",
      "price": 12,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%B3%96.jpeg",
      "quantity": 0,
      "index": "food13"
    },
    {
      "type": "Âà∂Á≥ñ",
      "name": "Á∫¢Á≥ñ",
      "price": 19,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%BA%A2%E7%B3%96.png",
      "quantity": 0,
      "index": "food14"
    },
    {
      "type": "Âà∂Á≥ñ",
      "name": "È∫¶Á≥ñ",
      "price": 24,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%BA%A6%E7%B3%96.png",
      "quantity": 0,
      "index": "food15"
    },
    {
      "type": "È•ºÂùä",
      "name": "È∏°ËõãÈ•º",
      "price": 18,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B8%A1%E8%9B%8B%E9%A5%BC.png",
      "quantity": 0,
      "index": "food16"
    },
    {
      "type": "È•ºÂùä",
      "name": "ÁÉßÈ•º",
      "price": 34,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%83%A7%E9%A5%BC.png",
      "quantity": 0,
      "index": "food17"
    },
    {
      "type": "È•ºÂùä",
      "name": "Ëî¨ËèúÈ•º",
      "price": 45,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%94%AC%E8%8F%9C%E9%A5%BC.png",
      "quantity": 0,
      "index": "food18"
    },
    {
      "type": "È•ºÂùä",
      "name": "ÂúüË±ÜÈ•º",
      "price": 72,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%9C%9F%E8%B1%86%E9%A5%BC.JPG",
      "quantity": 0,
      "index": "food19"
    },
    {
      "type": "È•ºÂùä",
      "name": "ÂçóÁìúÈ•º",
      "price": 89,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E5%8D%97%E7%93%9C%E9%A5%BC.JPG",
      "quantity": 0,
      "index": "food20"
    },
    {
      "type": "Áü≥Á£®",
      "name": "Èù¢Á≤â",
      "price": 6,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E9%9D%A2%E7%B2%89.JPG",
      "quantity": 0,
      "index": "food21"
    },
    {
      "type": "Áü≥Á£®",
      "name": "Á≥ïÁ≤â",
      "price": 16,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%B3%95%E7%B2%89.png",
      "quantity": 0,
      "index": "food22"
    },
    {
      "type": "Áü≥Á£®",
      "name": "ÂúüË±ÜÁ≤â",
      "price": 33,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%9C%9F%E8%B1%86%E7%B2%89.png",
      "quantity": 0,
      "index": "food23"
    },
    {
      "type": "Ë±ÜÂùä",
      "name": "Ë±ÜËÖê",
      "price": 10,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%B1%86%E8%85%90.png",
      "quantity": 0,
      "index": "food24"
    },
    {
      "type": "Ë±ÜÂùä",
      "name": "Ë±ÜÊµÜ",
      "price": 14,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%B1%86%E6%B5%86.png",
      "quantity": 0,
      "index": "food25"
    },
    {
      "type": "Ë±ÜÂùä",
      "name": "Ë±ÜË±â",
      "price": 38,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%B1%86%E8%B1%89.png",
      "quantity": 0,
      "index": "food26"
    },
    {
      "type": "Ë±ÜËÖêÂä†Â∑•",
      "name": "Ê≤πË±ÜËÖê",
      "price": 26,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E6%B2%B9%E8%B1%86%E8%85%90.png",
      "quantity": 0,
      "index": "food27"
    },
    {
      "type": "Ë±ÜËÖêÂä†Â∑•",
      "name": "ËÖêÁ´π",
      "price": 36,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%85%90%E7%AB%B9.png",
      "quantity": 0,
      "index": "food28"
    },
    {
      "type": "Ë±ÜËÖêÂä†Â∑•",
      "name": "Ë±ÜËÖê‰π≥",
      "price": 42,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%B1%86%E8%85%90%E4%B9%B3.png",
      "quantity": 0,
      "index": "food29"
    },
    {
      "type": "Ë±ÜËÖêÂä†Â∑•",
      "name": "Ë±ÜÁ≠ã",
      "price": 45,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E8%B1%86%E7%AD%8B.JPG",
      "quantity": 0,
      "index": "food30"
    },
    {
      "type": "Ë±ÜËÖêÂä†Â∑•",
      "name": "Ë±ÜËÖêËÑë",
      "price": 46,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%B1%86%E8%85%90%E8%84%91.png",
      "quantity": 0,
      "index": "food31"
    },
    {
      "type": "Ë±ÜËÖêÂä†Â∑•",
      "name": "Ë±ÜËÖêÂπ≤",
      "price": 40,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%B1%86%E8%85%90%E5%B9%B2.png",
      "quantity": 0,
      "index": "food32"
    },
    {
      "type": "Áé©ÂÖ∑",
      "name": "Á´πËúªËúì",
      "price": 102,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%AB%B9%E8%9C%BB%E8%9C%93.png",
      "quantity": 0,
      "index": "food33"
    },
    {
      "type": "Áé©ÂÖ∑",
      "name": "Ê≥•Âì®",
      "price": 86,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E6%B3%A5%E5%93%A8.png",
      "quantity": 0,
      "index": "food34"
    },
    {
      "type": "Áé©ÂÖ∑",
      "name": "Á´πÊùø",
      "price": 94,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%AB%B9%E6%9D%BF.png",
      "quantity": 0,
      "index": "food35"
    },
    {
      "type": "Áé©ÂÖ∑",
      "name": "ÈôÄËû∫",
      "price": 101,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E9%99%80%E8%9E%BA.JPG",
      "quantity": 0,
      "index": "food36"
    },
    {
      "type": "Êú®Â∑•",
      "name": "Èô∂Ëâ∫Êú®ÂÖ∑",
      "price": 30,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%99%B6%E8%89%BA%E6%9C%A8%E5%85%B7.png",
      "quantity": 0,
      "index": "food37"
    },
    {
      "type": "Êú®Â∑•",
      "name": "Ê¶´ÂçØ",
      "price": 50,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E6%A6%AB%E5%8D%AF.png",
      "quantity": 0,
      "index": "food38"
    },
    {
      "type": "Êú®Â∑•",
      "name": "È≤ÅÁè≠ÈîÅ",
      "price": 74,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B2%81%E7%8F%AD%E9%94%81.png",
      "quantity": 0,
      "index": "food39"
    },
    {
      "type": "Á≥ïÂùä",
      "name": "Á≥ØÁ±≥Á≥ï",
      "price": 38,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%B3%AF%E7%B1%B3%E7%B3%95.png",
      "quantity": 0,
      "index": "food40"
    },
    {
      "type": "Á≥ïÂùä",
      "name": "È∏°ËõãÁ≥ï",
      "price": 53,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E9%B8%A1%E8%9B%8B%E7%B3%95.JPG",
      "quantity": 0,
      "index": "food41"
    },
    {
      "type": "Á≥ïÂùä",
      "name": "ÂèëÁ≥ï",
      "price": 60,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%8F%91%E7%B3%95.png",
      "quantity": 0,
      "index": "food42"
    },
    {
      "type": "Á≥ïÂùä",
      "name": "ÂçóÁìúÁ≥ï",
      "price": 84,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%8D%97%E7%93%9C%E7%B3%95.jpeg",
      "quantity": 0,
      "index": "food43"
    },
    {
      "type": "ÁºñÁªá",
      "name": "Á´πÁâá",
      "price": 40,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%AB%B9%E7%89%87.png",
      "quantity": 0,
      "index": "food44"
    },
    {
      "type": "ÁºñÁªá",
      "name": "Á´πÁØì",
      "price": 72,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%AB%B9%E7%AF%93.png",
      "quantity": 0,
      "index": "food45"
    },
    {
      "type": "ÁºñÁªá",
      "name": "È∫ªÁª≥",
      "price": 37,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%BA%BB%E7%BB%B3.png",
      "quantity": 0,
      "index": "food46"
    },
    {
      "type": "ÁºñÁªá",
      "name": "ÊñóÁ¨†",
      "price": 56,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E6%96%97%E7%AC%A0.JPG",
      "quantity": 0,
      "index": "food47"
    },
    {
      "type": "ËÖåÂà∂",
      "name": "Âí∏È∏°Ëõã",
      "price": 14,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E5%92%B8%E9%B8%A1%E8%9B%8B.JPG",
      "quantity": 0,
      "index": "food48"
    },
    {
      "type": "ËÖåÂà∂",
      "name": "ÈÖ∏Ëèú",
      "price": 25,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E9%85%B8%E8%8F%9C.JPG",
      "quantity": 0,
      "index": "food49"
    },
    {
      "type": "ËÖåÂà∂",
      "name": "ËÖåÈ∏°ËÇâ",
      "price": 39,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E8%85%8C%E9%B8%A1%E8%82%89.JPG",
      "quantity": 0,
      "index": "food50"
    },
    {
      "type": "ËÖåÂà∂",
      "name": "ËÖåÂúüË±Ü",
      "price": 51,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%85%8C%E5%9C%9F%E8%B1%86.png",
      "quantity": 0,
      "index": "food51"
    },
    {
      "type": "ËÖåÂà∂",
      "name": "ËÖåÁæäËÇâ",
      "price": 49,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E8%85%8C%E7%BE%8A%E8%82%89.JPG",
      "quantity": 0,
      "index": "food52"
    },
    {
      "type": "Èô∂Áì∑",
      "name": "Èô∂Âô®",
      "price": 72,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%99%B6%E5%99%A8.png",
      "quantity": 0,
      "index": "food53"
    },
    {
      "type": "Èô∂Áì∑",
      "name": "ÂçïËâ≤Áì∑",
      "price": 104,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%8D%95%E8%89%B2%E7%93%B7.png",
      "quantity": 0,
      "index": "food54"
    },
    {
      "type": "Èô∂Áì∑",
      "name": "ÂΩ©ÁªòÁì∑",
      "price": 160,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E5%BD%A9%E7%BB%98%E7%93%B7.JPG",
      "quantity": 0,
      "index": "food55"
    },
    {
      "type": "ÊñáÂÖ∑",
      "name": "Á∫∏",
      "price": 67,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E7%BA%B8.JPG",
      "quantity": 0,
      "index": "food56"
    },
    {
      "type": "ÊñáÂÖ∑",
      "name": "Á†ö",
      "price": 104,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E7%A0%9A.JPG",
      "quantity": 0,
      "index": "food57"
    },
    {
      "type": "ÊñáÂÖ∑",
      "name": "Á¨î",
      "price": 66,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E7%AC%94.JPG",
      "quantity": 0,
      "index": "food58"
    },
    {
      "type": "ÊôæÂ†Ç",
      "name": "Âπ≤Ë±ÜË±â",
      "price": 56,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E5%B9%B2%E8%B1%86%E8%B1%89.JPG",
      "quantity": 0,
      "index": "food59"
    },
    {
      "type": "ÊôæÂ†Ç",
      "name": "Á≤â‰∏ù",
      "price": 49,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E7%B2%89%E4%B8%9D.JPG",
      "quantity": 0,
      "index": "food60"
    },
    {
      "type": "ÊôæÂ†Ç",
      "name": "ÂçóÁìúÁ±Ω",
      "price": 47,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E5%8D%97%E7%93%9C%E7%B1%BD.JPG",
      "quantity": 0,
      "index": "food61"
    },
    {
      "type": "Áª£Âùä",
      "name": "Ëç∑ÂåÖ",
      "price": 114,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E8%8D%B7%E5%8C%85.JPG",
      "quantity": 0,
      "index": "food62"
    },
    {
      "type": "Áª£Âùä",
      "name": "ËôéÂ§¥Â∏Ω",
      "price": 90,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E8%99%8E%E5%A4%B4%E5%B8%BD.JPG",
      "quantity": 0,
      "index": "food63"
    },
    {
      "type": "Áª£Âùä",
      "name": "Â∏ÉÂ®ÉÂ®É",
      "price": 88,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E5%B8%83%E5%A8%83%E5%A8%83.JPG",
      "quantity": 0,
      "index": "food64"
    },
    {
      "type": "Áª£Âùä",
      "name": "Áª£ÁêÉ",
      "price": 118,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%BB%A3%E7%90%83.jpeg",
      "quantity": 0,
      "index": "food112"
    },
    {
      "type": "ÂúüÊñô",
      "name": "Èô∂Âúü",
      "price": 30,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%99%B6%E5%9C%9F.png",
      "quantity": 0,
      "index": "food65"
    },
    {
      "type": "ÂúüÊñô",
      "name": "ÈáâÊñô",
      "price": 30,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%87%89%E6%96%99.png",
      "quantity": 0,
      "index": "food66"
    },
    {
      "type": "ÂúüÊñô",
      "name": "ÈáâÂΩ©",
      "price": 52,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E9%87%89%E5%BD%A9.JPG",
      "quantity": 0,
      "index": "food67"
    },
    {
      "type": "Á∫∫Áªá",
      "name": "È∫ªÂ∏É",
      "price": 48,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E9%BA%BB%E5%B8%83.JPG",
      "quantity": 0,
      "index": "food68"
    },
    {
      "type": "Á∫∫Áªá",
      "name": "ÁªíÁ∫ø",
      "price": 26,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E7%BB%92%E7%BA%BF.JPG",
      "quantity": 0,
      "index": "food69"
    },
    {
      "type": "Á∫∫Áªá",
      "name": "Ê£âÂ∏É",
      "price": 50,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/7700fee03402f76f5ed3f01a4f440fa7a1457d1b/%E6%A3%89%E5%B8%83.JPG",
      "quantity": 0,
      "index": "food70"
    },
    {
      "type": "ÂºÄÈáá",
      "name": "ÈùíÁ´π",
      "price": 10,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%9D%92%E7%AB%B9.png",
      "quantity": 0,
      "index": "food71"
    },
    {
      "type": "ÂºÄÈáá",
      "name": "ÂéüÂßãÂúü",
      "price": 10,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%8E%9F%E5%A7%8B%E5%9C%9F.png",
      "quantity": 0,
      "index": "food72"
    },
    {
      "type": "ÂºÄÈáá",
      "name": "Êú®Êùê",
      "price": 10,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E6%9C%A8%E6%9D%90.jpeg",
      "quantity": 0,
      "index": "food73"
    },
    {
      "type": "ÂºÄÈáá",
      "name": "ÁüøÊñô",
      "price": 10,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%9F%BF%E6%96%99.png",
      "quantity": 0,
      "index": "food74"
    },
    {
      "type": "ËèúË∞±",
      "name": "ËõãÁÇíÈ•≠",
      "price": 8,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%9B%8B%E7%82%92%E9%A5%AD.png",
      "quantity": 0,
      "index": "food75"
    },
    {
      "type": "ËèúË∞±",
      "name": "Ê∏ÖÊ±§ÁôΩËèú",
      "price": 15,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E6%B8%85%E6%B1%A4%E7%99%BD%E8%8F%9C.png",
      "quantity": 0,
      "index": "food76"
    },
    {
      "type": "ËèúË∞±",
      "name": "È∫ªËä±",
      "price": 15,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%BA%BB%E8%8A%B1.png",
      "quantity": 0,
      "index": "food77"
    },
    {
      "type": "ËèúË∞±",
      "name": "ËõãÈªÑÈÖ•",
      "price": 14,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%9B%8B%E9%BB%84%E9%85%A5.png",
      "quantity": 0,
      "index": "food78"
    },
    {
      "type": "ËèúË∞±",
      "name": "È∫ªÂ©ÜË±ÜËÖê",
      "price": 14,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%BA%BB%E5%A9%86%E8%B1%86%E8%85%90.png",
      "quantity": 0,
      "index": "food79"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÈÖ∏ËèúË±ÜËÖê",
      "price": 21,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%85%B8%E8%8F%9C%E8%B1%86%E8%85%90.png",
      "quantity": 0,
      "index": "food80"
    },
    {
      "type": "ËèúË∞±",
      "name": "È∏°ËõãÈù¢",
      "price": 10,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B8%A1%E8%9B%8B%E9%9D%A2.png",
      "quantity": 0,
      "index": "food81"
    },
    {
      "type": "ËèúË∞±",
      "name": "Ëæ£Â≠êÈ∏°‰∏Å",
      "price": 17,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%BE%A3%E5%AD%90%E9%B8%A1%E4%B8%81.png",
      "quantity": 0,
      "index": "food82"
    },
    {
      "type": "ËèúË∞±",
      "name": "È∏°ËÇâË±ÜËÖê",
      "price": 15,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B8%A1%E8%82%89%E8%B1%86%E8%85%90.png",
      "quantity": 0,
      "index": "food83"
    },
    {
      "type": "ËèúË∞±",
      "name": "È≤´È±ºË±ÜËÖêÊ±§",
      "price": 12,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%B2%AB%E9%B1%BC%E8%B1%86%E8%85%90%E6%B1%A4.png",
      "quantity": 0,
      "index": "food84"
    },
    {
      "type": "ËèúË∞±",
      "name": "ËôéÁöÆËÇâ",
      "price": 17,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%99%8E%E7%9A%AE%E8%82%89.png",
      "quantity": 0,
      "index": "food85"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÈÖ∏ËèúÈ±º",
      "price": 29,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%85%B8%E8%8F%9C%E9%B1%BC.jpeg",
      "quantity": 0,
      "index": "food86"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÈÖ∏ËèúÊ±ÜÁôΩËÇâ",
      "price": 24,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%85%B8%E8%8F%9C%E6%B1%86%E7%99%BD%E8%82%89.png",
      "quantity": 0,
      "index": "food87"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÈÖ∏Ëæ£ÂúüË±Ü‰∏ù",
      "price": 20,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%85%B8%E8%8F%9C%E5%9C%9F%E8%B1%86%E4%B8%9D.png",
      "quantity": 0,
      "index": "food88"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÂâÅÊ§íÈ±ºÂ§¥",
      "price": 17,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%89%81%E6%A4%92%E9%B1%BC%E5%A4%B4.png",
      "quantity": 0,
      "index": "food89"
    },
    {
      "type": "ËèúË∞±",
      "name": "Ëã¶ÁìúÁÇíËõã",
      "price": 16,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%8B%A6%E7%93%9C%E7%82%92%E8%9B%8B.png",
      "quantity": 0,
      "index": "food90"
    },
    {
      "type": "ËèúË∞±",
      "name": "Ëç†ËèúËÇâÂåÖ",
      "price": 25,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%8D%A0%E8%8F%9C%E8%82%89%E5%8C%85.png",
      "quantity": 0,
      "index": "food91"
    },
    {
      "type": "ËèúË∞±",
      "name": "Ëã¶ÁìúÁå™ËÇâÊ±§",
      "price": 21,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%8B%A6%E7%93%9C%E7%8C%AA%E8%82%89%E6%B1%A4.png",
      "quantity": 0,
      "index": "food92"
    },
    {
      "type": "ËèúË∞±",
      "name": "ËÇâÊú´ÁÉßÈ•º",
      "price": 17,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%82%89%E6%9C%AB%E7%83%A7%E9%A5%BC.png",
      "quantity": 0,
      "index": "food93"
    },
    {
      "type": "ËèúË∞±",
      "name": "Á∫¢ÁÉßÈ∏≠",
      "price": 20,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%BA%A2%E7%83%A7%E9%B8%AD.png",
      "quantity": 0,
      "index": "food94"
    },
    {
      "type": "ËèúË∞±",
      "name": "Ëç†ËèúÈ¶ÑÁÇñ",
      "price": 25,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%8D%A0%E8%8F%9C%E9%A6%84%E7%82%96.png",
      "quantity": 0,
      "index": "food95"
    },
    {
      "type": "ËèúË∞±",
      "name": "Ëã¶ÁìúÊãåÈù¢",
      "price": 20,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%8B%A6%E7%93%9C%E6%8B%8C%E9%9D%A2.png",
      "quantity": 0,
      "index": "food96"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÈªÑÁÑñÈ∏°",
      "price": 27,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%BB%84%E7%84%96%E9%B8%A1.png",
      "quantity": 0,
      "index": "food97"
    },
    {
      "type": "ËèúË∞±",
      "name": "È¶ôÊ§øÊãåË±ÜËÖê",
      "price": 18,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%A6%99%E6%A4%BF%E6%8B%8C%E8%B1%86%E8%85%90.png",
      "quantity": 0,
      "index": "food98"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÊùæÈº†È≥úÈ±º",
      "price": 14,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E6%9D%BE%E9%BC%A0%E9%B3%9C%E9%B1%BC.png",
      "quantity": 0,
      "index": "food99"
    },
    {
      "type": "ËèúË∞±",
      "name": "È¶ôËæ£ÁæäËÇâÈù¢",
      "price": 24,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%A6%99%E8%BE%A3%E7%BE%8A%E8%82%89%E9%9D%A2.png",
      "quantity": 0,
      "index": "food100"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÈÖ∏ËèúÁæäËÇâ",
      "price": 24,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%85%B8%E8%8F%9C%E7%BE%8A%E8%82%89.png",
      "quantity": 0,
      "index": "food101"
    },
    {
      "type": "ËèúË∞±",
      "name": "Èì∂È±ºÂçóÁìúÁæπ",
      "price": 26,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E9%93%B6%E9%B1%BC%E5%8D%97%E7%93%9C%E7%BE%B9.png",
      "quantity": 0,
      "index": "food102"
    },
    {
      "type": "ËèúË∞±",
      "name": "Á≥ñÈÜãÈáåËÑä",
      "price": 17,
      "avatar": "",
      "quantity": 0,
      "index": "food103"
    },
    {
      "type": "ËèúË∞±",
      "name": "È±ºÈ¶ôËÇâ‰∏ù",
      "price": 25,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%B3%96%E9%86%8B%E9%87%8C%E8%84%8A.png",
      "quantity": 0,
      "index": "food104"
    },
    {
      "type": "ËèúË∞±",
      "name": "Êú®È°ªËÇâ",
      "price": 27,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E6%9C%A8%E9%A1%BB%E8%82%89.png",
      "quantity": 0,
      "index": "food105"
    },
    {
      "type": "ËèúË∞±",
      "name": "ËµõËûÉËüπ",
      "price": 9,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%B5%9B%E8%9E%83%E8%9F%B9.png",
      "quantity": 0,
      "index": "food106"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÁãÆÂ≠êÂ§¥",
      "price": 30,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%8B%AE%E5%AD%90%E5%A4%B4.png",
      "quantity": 0,
      "index": "food107"
    },
    {
      "type": "ËèúË∞±",
      "name": "ËöÇËöÅ‰∏äÊ†ë",
      "price": 52,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E8%9A%82%E8%9A%81%E4%B8%8A%E6%A0%91.png",
      "quantity": 0,
      "index": "food108"
    },
    {
      "type": "ËèúË∞±",
      "name": "Á≤â‰∏ùËí∏ÁôΩËèú",
      "price": 38,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%B2%89%E4%B8%9D%E8%92%B8%E7%99%BD%E8%8F%9C.png",
      "quantity": 0,
      "index": "food109"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÁæäËÇâÊ≥°È¶ç",
      "price": 48,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E7%BE%8A%E8%82%89%E6%B3%A1%E9%A6%8D.png",
      "quantity": 0,
      "index": "food110"
    },
    {
      "type": "ËèúË∞±",
      "name": "ÂçóÁìúÈ¶íÂ§¥",
      "price": 31,
      "avatar": "https://gitee.com/Yaojun-Lai/images_needed/raw/master/%E5%8D%97%E7%93%9C%E9%A6%92%E5%A4%B4.png",
      "quantity": 0,
      "index": "food111"
    }
    ],
    displayBookPrice: "",
    displayPrice: "",
    totalBookPrice: 0,
    extraPrice: 0,
    extraPricePlaceholder: '',
    bookPricePlaceholder: '',
    bookPrice: 0,
    pricePerPerson: 0,
    totalPrice: 0, // initialize total price to zero
    showModal: false, // flag to show/hide the modal window
    cartFoods: [], // initialize cart foods to an empty array
    selectedTable: null, // initialize selected table to null
    currentFoods: [], // This will store only the foods of the selected type
    selectedType: 'Chinese', // default selected type
    
  },
  

  onLoad: function() {
  this.setData({
    selectedFoodType: this.data.foodTypes[0],
    currentFoods: this.data.allFoods
  });
},
  

  loadFoods: function(type) {
    // Filter the foods of the selected type
    const foods = this.data.allFoods.filter(food => food.type === type);
    this.setData({
      currentFoods: foods,
      selectedType: type
    });
  },
  
  changeType: function(e) {
    const type = e.currentTarget.dataset.type;
    const firstFoodOfType = this.data.allFoods.find(food => food.type === type);
    if (firstFoodOfType) {
      this.setData({
        scrollToFood: firstFoodOfType.index,
        selectedFoodType: type
      });
    }
  },
  
  
  
  increaseOrder: function(e) {
    const name = e.currentTarget.dataset.name;
    const foods = this.data.allFoods;
    const index = foods.findIndex(food => food.name === name);
    if(index !== -1){
      foods[index].quantity = (foods[index].quantity || 0) + 1;
      this.setData({ 
        allFoods: foods,
        currentFoods: this.data.currentFoods
      });
      this.addToCart(foods[index]); // Add the item to the cart
      this.computeTotalPrice(); // Recompute the total price
    }
  },
  
  decreaseOrder: function(e) {
    const name = e.currentTarget.dataset.name;
    const foods = this.data.allFoods;
    const index = foods.findIndex(food => food.name === name);
    if(index !== -1 && foods[index].quantity > 0){
      foods[index].quantity -= 1;
      if(foods[index].quantity === 0) {
        delete foods[index].quantity;
      }
      this.setData({ 
        allFoods: foods,
        currentFoods: this.data.currentFoods
      });
      this.removeFromCart(foods[index]); // Remove the item from the cart
      this.computeTotalPrice(); // Recompute the total price
    }
  },
  inputOrder: function(e) {
    const name = e.currentTarget.dataset.name;
    const foods = this.data.allFoods;
    const index = foods.findIndex(food => food.name === name);
    let quantity = parseInt(e.detail.value, 10); // Convert the input to a number
  
    // If the input is invalid (not a number, negative, or empty), set quantity to 0
    if (isNaN(quantity) || quantity < 0) {
      quantity = 0;
    }
  
    if (index !== -1) {
      foods[index].quantity = quantity; // Set the new quantity
      const cartFoods = this.data.cartFoods;
      const cartIndex = cartFoods.findIndex(item => item.name === name);
      
      if (foods[index].quantity === 0) {
        delete foods[index].quantity;
        if (cartIndex !== -1) {
          cartFoods.splice(cartIndex, 1);
        }
      } else {
        if (cartIndex !== -1) {
          cartFoods[cartIndex].quantity = quantity;
        } else {
          cartFoods.push({
            type: foods[index].type,
            name: foods[index].name,
            price: foods[index].price,
            avatar: foods[index].avatar,
            quantity: quantity
          });
        }
      }
  
      this.setData({
        allFoods: foods,
        cartFoods: cartFoods
      });
  
      this.computeTotalPrice(); // Recompute the total price
    }
  },
  
  JumpToManual: function(){
    wx.navigateTo({
      url: '/pages/manual/manual',
    })
  },
  
  
  // Compute the total price based on the items in the cart
  computeTotalPrice: function() {
    const cartFoods = this.data.cartFoods;
    let totalPrice = 0;
    for (let i = 0; i < cartFoods.length; i++) {
      const food = cartFoods[i];
      totalPrice += food.price * food.quantity;
    }
    this.setData({
      totalPrice: totalPrice.toFixed(0)
    });
    const totalBookPrice = parseFloat(this.data.totalBookPrice);
    const totalPrice2 = parseFloat(this.data.totalPrice);

    if (!isNaN(totalPrice) && totalPrice2 !== 0){
      this.setData({
        pricePerPerson: (totalBookPrice / totalPrice2).toFixed(2)
      })
    }else{
      this.setData({
        pricePerPerson: 0
      })
    }
  },

  // Add a food item to the cart
  addToCart: function(food) {
    const cartFoods = this.data.cartFoods;
    const index = cartFoods.findIndex(item => item.name === food.name);
    if (index !== -1) {
      cartFoods[index].quantity++;
    } else {
      cartFoods.push({
        type: food.type,
        name: food.name,
        price: food.price,
        avatar: food.avatar,
        quantity: 1
      });
    }
    this.setData({
      cartFoods: cartFoods
    });
  },

  // Remove a food item from the cart
  removeFromCart: function(food) {
    const cartFoods = this.data.cartFoods;
    const index = cartFoods.findIndex(item => item.name === food.name);
    if (index !== -1) {
      cartFoods[index].quantity--;
      if (cartFoods[index].quantity === 0) {
        cartFoods.splice(index, 1);
      }
      this.setData({
        cartFoods: cartFoods
      });
    }
  },

  // Show the modal window with the cart contents
  showModal: function() {
    this.setData({
      showModal: true,
      // cartItems: this.data.cartFoods
    });
  },

  // Hide the modal window
  hideModal: function() {
    this.setData({
      showModal: false
    });
  },

  // Set the selected table
  selectTable: function(event) {
    this.setData({
      selectedTable: event.detail.value
    });
  },

  // // Handle the check button click in the modal window
  // handleCheck: function(event) {
  //   const value = event.detail.value;
  //   const result = this.data.totalPrice / value;
  //   wx.showModal({
  //     title: 'Result',
  //     content: result.toFixed(2).toString(),
  //     showCancel: false
  //   });
  // },

  handleCheck: function(event) {
    const value = parseInt(event.detail.value, 10); // Explicitly convert the input to a number
    const totalPrice = parseFloat(this.data.totalPrice);
    
    if (!isNaN(value)  && !isNaN(totalPrice)) {
      if (value == 0){
        const pricePerPerson = 0;
      }
      else{
        const pricePerPerson = (totalPrice / value).toFixed(2);
      }
      wx.showModal({
        title: 'Order Summary',
        content: `Total price: ${totalPrice.toFixed(2)}\nPrice per person: ${pricePerPerson}`,
        confirmText: 'Confirm',
        cancelText: 'Cancel',
        success: function (res) {
          if (res.confirm) {
            console.log('Confirm');
          } else if (res.cancel) {
            console.log('Cancel');
          }
        }
      });
    } else {
      wx.showModal({
        title: 'ÈîôËØØ',
        content: 'ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑËÆ¢Âçï‰ª∑',
        showCancel: false
      });
    }
  },

  addBookPrice: function(event){
    // console.log(event.detail);
    const add = parseInt(event.detail.value, 10);
    
    if (isNaN(add)){
      this.setData({ extraPrice: 0 });
    }
    else{
      this.setData({ extraPrice: add });
    }
    this.setData({
      displayPrice: add === 0 ? "" : add
    });
    const extraPrice = parseFloat(this.data.extraPrice);
    const bookPrice = parseFloat(this.data.bookPrice);
    this.setData({ totalBookPrice: extraPrice +  bookPrice});
    const totalPrice = parseFloat(this.data.totalPrice);
    const totalBookPrice =  parseFloat(this.data.totalBookPrice);
    if (!isNaN(totalPrice) && totalPrice !== 0) {
      const pricePerPerson = (totalBookPrice / totalPrice).toFixed(2);
      this.setData({ pricePerPerson });
    }
    else{
      this.setData({ pricePerPerson: 0 });
    }
  },
  handlePriceInput: function(event) {
    const newBookPrice = parseInt(event.detail.value, 10);
    if (isNaN(newBookPrice)){
      this.setData({ bookPrice: 0 });
    }
    else{
      this.setData({ bookPrice: newBookPrice });
    }
    this.setData({
      displayBookPrice: newBookPrice === 0 ? "" : newBookPrice
    });
    const extraPrice = parseFloat(this.data.extraPrice);
    const bookPrice = parseFloat(this.data.bookPrice);
    this.setData({ totalBookPrice: extraPrice +  bookPrice});
    const totalPrice = parseFloat(this.data.totalPrice);
    const totalBookPrice =  parseFloat(this.data.totalBookPrice);
    if (!isNaN(totalPrice) && totalPrice !== 0) {
      const pricePerPerson = (totalBookPrice / totalPrice).toFixed(2);
      this.setData({ pricePerPerson });
    }
    else{
      this.setData({ pricePerPerson: 0 });
    }
  },



  // selectFoodType: function(e) {
  //   this.setData({
  //     selectedFoodType: e.currentTarget.dataset.type,
  //   });
  // },

  handleCheck: function() {
    if (this.data.pricePerPerson === '') {
      wx.showModal({
        title: 'Error',
        content: 'Please enter a valid number of people.',
        showCancel: false
      });
    } else {
      wx.showModal({
        title: 'Order Summary',
        content: `Total price: ${this.data.totalPrice.toFixed(2)}\nPrice per person: ${this.data.pricePerPerson}`,
        confirmText: 'Confirm',
        cancelText: 'Cancel',
        success: function (res) {
          if (res.confirm) {
            console.log('Confirm');
          } else if (res.cancel) {
            console.log('Cancel');
          }
        }
      });
    }
  },
  
  
  resetQuantity: function(foodArray) {
    for (let i = 0; i < foodArray.length; i++) {
      foodArray[i].quantity = 0;
    }
    return foodArray;
  },
  
  clearOrder: function() {
    let foods = this.data.allFoods;
    let currentFoods = this.data.currentFoods;
    let cartFoods = this.data.cartFoods;
  
    // Reset the quantity of all foods, currentFoods, and cartFoods
    foods = this.resetQuantity(foods);
    currentFoods = this.resetQuantity(currentFoods);
    cartFoods = this.resetQuantity(cartFoods);
  
    this.setData({
      allFoods: foods,
      currentFoods: currentFoods,
      cartFoods: [],
      totalPrice: 0,
      totalBookPrice: 0,
      extraPrice: 0,
      bookPrice: 0,
      pricePerPerson: 0,
      displayBookPrice: "",
      displayPrice: "",
      searchInput: ''
 
    });
    // const event = {detail: {value: 'katherine'}};
    // this.addBookPrice(event);
  },
  
  onSearchInput: function(e) {
    this.setData({
      searchInput: e.detail.value,
    });
  },
  onShareAppMessage: function(){

  },
  onSearchButton: function() {
    if (this.data.searchInput == 'katherine'){
      this.setData({
        pricePerPerson: "Anson's babe",
        bookPricePlaceholder: 520,
        extraPricePlaceholder: 1314,
        totalBookPrice: 'Love Ya',
        totalPrice: '‚àû'
      })
      this.showModal();
    }
    if (this.data.searchInput == 'mom'){
      this.setData({
        pricePerPerson: "‰∫≤Áà±ÁöÑÂ¶àÂí™",
        totalBookPrice: 'ÊØç‰∫≤ËäÇÂø´‰πêüòò',
        totalPrice: '520'
      })
      this.showModal();
    }
    const foodToSearch = this.data.allFoods.find(food => food.name === this.data.searchInput);
    if (foodToSearch) {
      this.setData({
        scrollToFood: foodToSearch.index,
      });
    } else {
      // Find the first food where food.name includes the search input
      const foodToScroll = this.data.allFoods.find(food => food.name.includes(this.data.searchInput));
      if (foodToScroll) {
        this.setData({
          scrollToFood: foodToScroll.index,
        });
      } else {
        console.log("No food found with this name");
      }
    }
  },
  
  scroll: function(e) {
    // Get the scroll position
    const scrollTop = e.detail.scrollTop;
  
    // Get the query object
    const query = wx.createSelectorQuery();
    // Select all food items
    query.selectAll('.food-item').boundingClientRect();
    query.exec((res) => {
      // Find the first visible food item
      const firstVisibleFood = res[0].find(r => r.top + r.height > scrollTop - 1500);
  
      if (firstVisibleFood) {
        // Get the type of the first visible food
        
        const visibleFoodType = this.data.indexType[firstVisibleFood.id]
        // console.log(firstVisibleFood.id, visibleFoodType);
        if (visibleFoodType !== this.data.selectedFoodType) {
          // If the type has changed, update it
          this.setData({
            selectedFoodType: visibleFoodType
          });
        }
      }
    });
  }
  


});
